<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation · ACFlow</title><meta name="title" content="Installation · ACFlow"/><meta property="og:title" content="Installation · ACFlow"/><meta property="twitter:title" content="Installation · ACFlow"/><meta name="description" content="Documentation for ACFlow."/><meta property="og:description" content="Documentation for ACFlow."/><meta property="twitter:description" content="Documentation for ACFlow."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/acflow.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="ACFlow logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">ACFlow</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Introduction</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../intro/acp.html">Analytic Continuation</a></li><li><a class="tocitem" href="../intro/motivation.html">Motivation</a></li><li><a class="tocitem" href="../intro/ack.html">Acknowledgements</a></li><li><a class="tocitem" href="../intro/cite.html">Citation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="feature.html">Main Features</a></li><li><a class="tocitem" href="impl.html">Implementations</a></li><li class="is-active"><a class="tocitem" href="install.html">Installation</a></li><li><a class="tocitem" href="run.html">Running Modes</a></li><li><a class="tocitem" href="input.html">Input Files</a></li><li><a class="tocitem" href="output.html">Output Files</a></li><li><a class="tocitem" href="param.html">Parameters</a></li><li><a class="tocitem" href="tricks.html">Tricks and Tips</a></li><li><a class="tocitem" href="gui.html">Graphic User Interface</a></li><li><a class="tocitem" href="test.html">Benchmark Tools</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/sigma.html">Matsubara Self-Energy Function</a></li><li><a class="tocitem" href="../examples/green1.html">Matsubara Green&#39;s Function</a></li><li><a class="tocitem" href="../examples/green2.html">Imaginary Time Green&#39;s Function</a></li><li><a class="tocitem" href="../examples/current.html">Current-Current Correlation Function</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Theory</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../theory/basic.html">Basic Principles</a></li><li><a class="tocitem" href="../theory/maxent.html">Maximum Entropy Method</a></li><li><a class="tocitem" href="../theory/rfa.html">Barycentric Rational Function</a></li><li><a class="tocitem" href="../theory/nac.html">Nevanlinna Analytical Continuation</a></li><li><a class="tocitem" href="../theory/sac1.html">Stochastic Analytic Continuation 1</a></li><li><a class="tocitem" href="../theory/sac2.html">Stochastic Analytic Continuation 2</a></li><li><a class="tocitem" href="../theory/som.html">Stochastic Optimization Method</a></li><li><a class="tocitem" href="../theory/spx.html">Stochastic Pole Expansion</a></li><li><a class="tocitem" href="../theory/reference.html">References</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../library/outline.html">Outline</a></li><li><a class="tocitem" href="../library/acflow.html">ACFlow</a></li><li><a class="tocitem" href="../library/global.html">Constants</a></li><li><a class="tocitem" href="../library/type.html">Types</a></li><li><a class="tocitem" href="../library/base.html">Core</a></li><li><a class="tocitem" href="../library/solver.html">Solvers</a></li><li><a class="tocitem" href="../library/grid.html">Grids</a></li><li><a class="tocitem" href="../library/mesh.html">Meshes</a></li><li><a class="tocitem" href="../library/model.html">Models</a></li><li><a class="tocitem" href="../library/kernel.html">Kernels</a></li><li><a class="tocitem" href="../library/config.html">Configuration</a></li><li><a class="tocitem" href="../library/inout.html">Input and Output</a></li><li><a class="tocitem" href="../library/math.html">Math</a></li><li><a class="tocitem" href="../library/util.html">Utilities</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href="install.html">Installation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="install.html">Installation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/huangli712/ACFlow" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="install"><a class="docs-heading-anchor" href="#install">Installation</a><a id="install-1"></a><a class="docs-heading-anchor-permalink" href="#install" title="Permalink"></a></h1><p>It is an easy task to install the ACFlow toolkit.</p><p>First, since it is written in pure Julia language, it is necessary to install the Julia runtime environment in advance. The newest version of Julia is always preferred (version &gt; 1.60). Because the core codes only rely on Julia&#39;s built-in standard library, no the third-party packages are needed.</p><p>Second, just download source codes of the ACFlow toolkit from its github repository. It should be a compressed file, such as <code>acflow.zip</code> or <code>acflow.tar.gz</code>. Please uncompress it in your favorite directory by using the following commands:</p><pre><code class="language-shell hljs">$ unzip acflow.zip</code></pre><p>or</p><pre><code class="language-shell hljs">$ tar xvfz acflow.tar.gz</code></pre><p>Third, please input the following commands in Julia&#39;s REPL (Read-Eval-Print Loop) environment:</p><pre><code class="language-julia-repl hljs">julia&gt; using Pkg
julia&gt; Pkg.add(url = &quot;/home/your_home/acflow/&quot;)</code></pre><p>Here, <code>Pkg</code> is Julia&#39;s built-in package manager, and <code>/home/your_home/acflow</code> is assumed to be the root directory of the ACFlow toolkit. In practice, the users can use the <code>Pkg</code> package to install the ACFlow toolkit from its github repository directly:</p><pre><code class="language-julia-repl hljs">julia&gt; using Pkg
julia&gt; Pkg.add(url = &quot;https://github.com/huangli712/ACFlow&quot;)</code></pre><p>So the second step is optional. Furthermore, if the installed ACFlow toolkit is outdated, the users can use the following commands to upgrade ACFlow:</p><pre><code class="language-julia hljs">julia&gt; using Pkg
julia&gt; Pkg.update(&quot;ACFlow&quot;)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>How to verify whether the installation is successful? Please input the following codes in Julia&#39;s REPL:</p><pre><code class="language-julia-repl hljs">julia&gt; using ACFlow
ACFlow &gt; Loading...
ACFlow &gt; Well, ACFlow is compiled and loaded (214 functions).
ACFlow &gt; We are ready to go!


julia&gt; welcome()
╔═╗╔═╗╔═╗┬  ┌─┐┬ ┬
╠═╣║  ╠╣ │  │ ││││
╩ ╩╚═╝╚  ┴─┘└─┘└┴┘
A Modern Toolkit for Analytical Continuation Problems
Package: ACFlow
Version: 2.1.4-devel.250405
Release: 2025/04

</code></pre></div></div><p>Finally, in order to generate the documentation, please type the following commands in the terminal:</p><pre><code class="language-shell hljs">$ pwd
/home/your_home/acflow
$ cd docs
$ julia make.jl</code></pre><p>After a few seconds, the documentation is built and saved in the <code>acflow/docs/build</code> directory if everything is OK. The home page of the documentation is <code>acflow/docs/build/index.html</code>. The users can open it with any web browsers.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Sometimes in offline environment, the package manager is disable. At this time, we should setup the environment variable <code>ACFLOW_HOME</code> as follows:</p><pre><code class="language-shell hljs">$ export ACFLOW_HOME=/home/your_home/acflow/src</code></pre><p>And then plug the following code in front of your Julia&#39;s scripts:</p><pre><code class="language-julia hljs">haskey(ENV,&quot;ACFLOW_HOME&quot;) &amp;&amp; pushfirst!(LOAD_PATH, ENV[&quot;ACFLOW_HOME&quot;])</code></pre><p>Or else Julia won&#39;t find the ACFlow package.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>After v1.8.0, the ACFlow toolkit relies on the <code>Zygote.jl</code> package to calculate gradient. The Zygota.jl package adopts the automatic differentiation approach, which is more efficient than the finite difference method. If the users have trouble in installing the Zygote.jl package, we provide an internal function to bypass it.</p><p>Firstly, please disable Zygote in <code>ACFlow.jl</code> (about line 73).</p><pre><code class="language-julia hljs"># using Zygote</code></pre><p>Secondly, fix <code>𝐽!(J::Vector{C64}, x::Vector{C64})</code> in <code>nac.jl</code> (about line 844).</p><pre><code class="language-julia hljs">function 𝐽!(J::Vector{C64}, x::Vector{C64})
    #J .= Zygote.gradient(𝑓, x)[1]

    # Finite difference algorithm
    J .= gradient_via_fd(𝑓, x)
end</code></pre><p>Note that <code>gradient_via_fd()</code> is based on the finite difference method, which is much slower and less accurate than the automatic differentiation approach. It is implemented in the <code>math.jl</code>.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If Julia fails to load the ACFlow package, please make sure: (1) it is correctly installed via <code>Pkg.add()</code>. (2) or the <code>ACFLOW_HOME</code> variable is corrected set and is put into <code>LOAD_PATH</code>.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="impl.html">« Implementations</a><a class="docs-footer-nextpage" href="run.html">Running Modes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Saturday 5 April 2025 00:20">Saturday 5 April 2025</span>. Using Julia version 1.11.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
