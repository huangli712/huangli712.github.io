<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>make.sys · Flink</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Flink</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><a class="tocitem" href="../intro.html">Introduction</a></li><li><a class="tocitem" href="../install.html">Installation</a></li><li><a class="tocitem" href="../usage.html">Basic usage</a></li><li><span class="tocitem">User&#39;s guide</span><ul><li><a class="tocitem" href="../guide/m_constants.html">Constants</a></li><li><a class="tocitem" href="../guide/m_linkedlist.html">Linked list</a></li><li><a class="tocitem" href="../guide/m_mpi.html">Message passaging interface</a></li><li><a class="tocitem" href="../guide/m_parser.html">Configuration parser</a></li><li><a class="tocitem" href="../guide/m_sparse.html">Sparse matrix</a></li><li><a class="tocitem" href="../guide/m_spring.html">Pseudorandom number generator</a></li><li><a class="tocitem" href="../guide/m_stack.html">Stack</a></li><li><a class="tocitem" href="../guide/m_tetra.html">Analytical tetrahedron algorithm</a></li><li><a class="tocitem" href="../guide/s_error.html">Error and exception</a></li><li><a class="tocitem" href="../guide/s_fourier.html">Fourier transformation</a></li><li><a class="tocitem" href="../guide/s_function.html">Special functions</a></li><li><a class="tocitem" href="../guide/s_integrator.html">Integration</a></li><li><a class="tocitem" href="../guide/s_spline.html">Spline interpolation</a></li><li><a class="tocitem" href="../guide/s_util.html">Utility</a></li><li><a class="tocitem" href="../guide/s_vector.html">Vector</a></li></ul></li><li><span class="tocitem">Appendix</span><ul><li class="is-active"><a class="tocitem" href="make.html">make.sys</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Prerequisites"><span>Prerequisites</span></a></li><li><a class="tocitem" href="#Explanations"><span>Explanations</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Appendix</a></li><li class="is-active"><a href="make.html">make.sys</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="make.html">make.sys</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/huangli712/flink/blob/master/docs/src/appendix/make.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>The make.sys file is the key component of the building system. You have to modify it to fulfill your requirements. If it is not configured correctly, the building system won&#39;t work correctly as well. So in the following we would like to provide a detailed explanations for it.</p><h2 id="Prerequisites"><a class="docs-heading-anchor" href="#Prerequisites">Prerequisites</a><a id="Prerequisites-1"></a><a class="docs-heading-anchor-permalink" href="#Prerequisites" title="Permalink"></a></h2><h3 id="Operation-system"><a class="docs-heading-anchor" href="#Operation-system">Operation system</a><a id="Operation-system-1"></a><a class="docs-heading-anchor-permalink" href="#Operation-system" title="Permalink"></a></h3><ul><li>Linux</li><li>macOS</li></ul><h3 id="Fortran-compiler"><a class="docs-heading-anchor" href="#Fortran-compiler">Fortran compiler</a><a id="Fortran-compiler-1"></a><a class="docs-heading-anchor-permalink" href="#Fortran-compiler" title="Permalink"></a></h3><ul><li>Intel Fortran Compiler</li></ul><h3 id="Linear-algebra-library"><a class="docs-heading-anchor" href="#Linear-algebra-library">Linear algebra library</a><a id="Linear-algebra-library-1"></a><a class="docs-heading-anchor-permalink" href="#Linear-algebra-library" title="Permalink"></a></h3><ul><li>Apple Accelerate framework</li><li>Reference implementations for BLAS and LAPACK at Netlib</li><li>Intel Math Kernel Library</li></ul><h3 id="MPI-environment"><a class="docs-heading-anchor" href="#MPI-environment">MPI environment</a><a id="MPI-environment-1"></a><a class="docs-heading-anchor-permalink" href="#MPI-environment" title="Permalink"></a></h3><ul><li>MPICH</li><li>Openmpi</li></ul><h3 id="OpenMP-environment"><a class="docs-heading-anchor" href="#OpenMP-environment">OpenMP environment</a><a id="OpenMP-environment-1"></a><a class="docs-heading-anchor-permalink" href="#OpenMP-environment" title="Permalink"></a></h3><ul><li>(Optional)</li></ul><p>Though it is not mandatory, we still strongly recommend to update the above software components on your systems to the latest versions. The OpenMP environment is optional.</p><h2 id="Explanations"><a class="docs-heading-anchor" href="#Explanations">Explanations</a><a id="Explanations-1"></a><a class="docs-heading-anchor-permalink" href="#Explanations" title="Permalink"></a></h2><h3 id="F90"><a class="docs-heading-anchor" href="#F90">F90</a><a id="F90-1"></a><a class="docs-heading-anchor-permalink" href="#F90" title="Permalink"></a></h3><p>The Fortran compiler. Both the parallel and sequential Fortran compilers are supported. Note that only the Intel Fortran compiler was extensively tested. And we recommend to use the very latest version of Intel Fortran compiler (i.e, Intel Parallel Studio 2019).</p><p><strong>Possible options</strong>:</p><ul><li>mpif90</li><li>mpifort</li><li>mpiifort</li><li>ifort</li></ul><h3 id="LINKER"><a class="docs-heading-anchor" href="#LINKER">LINKER</a><a id="LINKER-1"></a><a class="docs-heading-anchor-permalink" href="#LINKER" title="Permalink"></a></h3><p>Linker. Here it should be the same with the Fortran compiler. Do not change it.</p><p><strong>Possible options</strong>:</p><ul><li>F90</li></ul><h3 id="ARCHIVER"><a class="docs-heading-anchor" href="#ARCHIVER">ARCHIVER</a><a id="ARCHIVER-1"></a><a class="docs-heading-anchor-permalink" href="#ARCHIVER" title="Permalink"></a></h3><p>Archiver. It is used to pack the binary objects into a library. Do not modify it for ever.</p><p><strong>Possible options</strong>:</p><ul><li>ar -ruv</li></ul><h3 id="MPI"><a class="docs-heading-anchor" href="#MPI">MPI</a><a id="MPI-1"></a><a class="docs-heading-anchor-permalink" href="#MPI" title="Permalink"></a></h3><p>Specify whether MPI is enable. If you want to compile a sequential code, please comment it out with &#39;#&#39; symbol and then setup F90 to &#39;ifort&#39;. We strongly suggest to compile the MPI parallelized codes.</p><p><strong>Possible options</strong>:</p><ul><li>-DMPI</li></ul><h3 id="OMP"><a class="docs-heading-anchor" href="#OMP">OMP</a><a id="OMP-1"></a><a class="docs-heading-anchor-permalink" href="#OMP" title="Permalink"></a></h3><p>Specify whether OpenMP is enable. If you want to disable it, please comment it out. In default it is disabled. So far the OpenMP was used to speedup the measurements of some selected two-particle quantities.</p><p><strong>Possible options</strong>:</p><ul><li>-qopenmp</li></ul><p>If you are using old version Intel Fortran compiler, this option may be &#39;-openmp&#39;.</p><h3 id="FPP"><a class="docs-heading-anchor" href="#FPP">FPP</a><a id="FPP-1"></a><a class="docs-heading-anchor-permalink" href="#FPP" title="Permalink"></a></h3><p>Specify whether the Fortran preprocessor (FPP) is used. It has to be enabled or else the source codes can not be compiled correctly.</p><p><strong>Possible options</strong>:</p><ul><li>-fpp</li></ul><h3 id="CPP"><a class="docs-heading-anchor" href="#CPP">CPP</a><a id="CPP-1"></a><a class="docs-heading-anchor-permalink" href="#CPP" title="Permalink"></a></h3><p>Collection of preprocessor directives. Do not modify it unless you are an expert.</p><p><strong>Possible options</strong>:</p><ul><li>FPP</li><li>MPI</li><li>OMP</li></ul><p>Please make sure that the &#39;FPP&#39; option is always present.</p><h3 id="CHECK"><a class="docs-heading-anchor" href="#CHECK">CHECK</a><a id="CHECK-1"></a><a class="docs-heading-anchor-permalink" href="#CHECK" title="Permalink"></a></h3><p>Used to specify what types of check should be done.</p><p><strong>Possible options</strong>:</p><ul><li>-nogen-interfaces</li><li>-warn all</li><li>-check all</li><li>-traceback</li><li>-g</li></ul><p>The &#39;-nogen-interfaces&#39; option ask the compiler to do not generate an interface block for each routine defined in the source file. The &#39;-warn all&#39; option means the check is done in compiling. The &#39;-check all&#39; option means the check will be done in running. The &#39;-traceback&#39; option enables us to track the exact position (line number and file name) where an error occurs. The &#39;-g&#39; option enables the compiler to generate debug information and embed them into the final program. <strong>Note that all of the &#39;-check all&#39;, &#39;-traceback&#39;, and &#39;-g&#39; options will decrease the efficiency greatly</strong>.</p><h3 id="MTUNE"><a class="docs-heading-anchor" href="#MTUNE">MTUNE</a><a id="MTUNE-1"></a><a class="docs-heading-anchor-permalink" href="#MTUNE" title="Permalink"></a></h3><p>Collection of optimization options.</p><p><strong>Possible options</strong>:</p><ul><li>-O3</li><li>-xHost</li></ul><p>The &#39;-O3&#39; option means the highest optimization. The &#39;-xHost&#39; option enables the compiler to try to generate the most suitable code for the current computer architecture.</p><h3 id="FFLAGS"><a class="docs-heading-anchor" href="#FFLAGS">FFLAGS</a><a id="FFLAGS-1"></a><a class="docs-heading-anchor-permalink" href="#FFLAGS" title="Permalink"></a></h3><p>Collection of Fortran compiler options. Do not modify them for ever.</p><p><strong>Possible options</strong>:</p><ul><li>-c</li><li>CPP</li><li>CHECK</li><li>MTUNE</li></ul><h3 id="LFLAGS"><a class="docs-heading-anchor" href="#LFLAGS">LFLAGS</a><a id="LFLAGS-1"></a><a class="docs-heading-anchor-permalink" href="#LFLAGS" title="Permalink"></a></h3><p>Collection of linker options. Do not modify them unless you know what you are doing.</p><p><strong>Possible options</strong>:</p><ul><li>OMP</li><li>-Wl,-no_pie</li></ul><p>The &#39;-Wl,-no_pie&#39; option is useful when you are using the macOS system and want to traceback the code (the -traceback option is applied). If you are using the Linux system, you can skip it.</p><h3 id="LIBS"><a class="docs-heading-anchor" href="#LIBS">LIBS</a><a id="LIBS-1"></a><a class="docs-heading-anchor-permalink" href="#LIBS" title="Permalink"></a></h3><p>Specify the external libraries. Now the this software package depends on LAPACK and BLAS heavily. To achieve good performance, the highly optimized LAPACK and BLAS implementations are essential.</p><p><strong>Possible options</strong>:</p><ul><li>-framework Accelerate</li><li>-L/home/lihuang/lapack -llapack -lblas</li><li>-L/opt/intel/mkl/lib -lmkl<em>core -lmkl</em>sequential -lmkl_rt</li></ul><p>Here we provide three typical choices. (1) In the macOS system, we can use the Apple Accelerate framework. (2) We use the home-built BLAS and LAPACK libraries. Please pay attention to the path. You have to modify it to meet your software environment. (3) We link our codes with the Intel MKL. Please pay attention to the path and the library&#39;s name. You have to modify them to meet your software environment. Please see the documentation about Intel MKL for more details.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../guide/s_vector.html">« Vector</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.4 on <span class="colophon-date" title="Monday 2 August 2021 17:42">Monday 2 August 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
